<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.01//EN' 'http://www.w3.org/TR/html4/strict.dtd'>
<html>
<head>
<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
<link rel='stylesheet' href='C:\Users\和樹\AppData\Roaming\MarkDownSharpEditor\css\hibara.org.css' type='text/css' />
<style type='text/css'>
	 ._mk {background-color:#FFFFC8}
</style>
<title>munin_conf.md</title>
</head>
<body>
<h1>グローバル設定</h1>
<div class='_mk'><!-- edit --><table></div>
<thead>
<tr>
	<th align="left">設定項目</th>
	<th align="left">概要</th>
	<th align="left">チューニング</th>
	<th align="left">必須可否</th>
	<th align="left">デフォルト値</th>
	<th align="left">使い方</th>
</tr>
</thead>
<tbody>
<tr>
	<td align="left">dbdir</td>
	<td align="left">データベースファイルの保存ディレクトリ。</td>
	<td align="left">-</td>
	<td align="left">Yes</td>
	<td align="left">/var/lib/munin</td>
	<td align="left">dbdir /var/lib/munin</td>
</tr>
<tr>
	<td align="left">htmldir</td>
	<td align="left">HTMLの保存ディレクトリ。<br>グラフの更新周期に伴い、HTMLファイル(グラフ)が配置される。</td>
	<td align="left">-</td>
	<td align="left">Yes</td>
	<td align="left">/var/cache/munin/www</td>
	<td align="left">htmldir /var/cache/munin/www</td>
</tr>
<tr>
	<td align="left">logdir</td>
	<td align="left">ログが保存されるディレクトリ。</td>
	<td align="left">-</td>
	<td align="left">Yes</td>
	<td align="left">/var/log/munin</td>
	<td align="left">logdir /var/log/munin</td>
</tr>
<tr>
	<td align="left">rundir</td>
	<td align="left">Muninの実行プロセスが可能されるディレクトリ。</td>
	<td align="left">-</td>
	<td align="left">Yes</td>
	<td align="left">/var/run/munin</td>
	<td align="left">rundir /var/run/munin</td>
</tr>
<tr>
	<td align="left">tmpldir</td>
	<td align="left">テンプレートファイルの設置ディレクトリ。<br>グラフ生成時にをmuninプロセスがtemplateファイルを置換し、HTMLファイルを出力する。</td>
	<td align="left">該当するファイル郡を置き換えることでMuninの外観を変更できる。</td>
	<td align="left">Yes</td>
	<td align="left">/etc/munin/templates</td>
	<td align="left">tmpldir /etc/munin/templates</td>
</tr>
<tr>
	<td align="left">staticdir</td>
	<td align="left">テンプレートを置換するプログラムのの設置ディレクトリ。<br>グラフ生成時にをmuninプロセスがtemplateファイルを置換し、HTMLファイルを出力する。</td>
	<td align="left">該当するファイル郡を置き換えることでMuninの外観を変更できる。</td>
	<td align="left">Yes</td>
	<td align="left">/etc/munin/templates</td>
	<td align="left">tmpldir /etc/munin/static</td>
</tr>
<tr>
	<td align="left">fork</td>
	<td align="left">測定データを各ノードから収集する際にノードの数に応じてプロセスを並列で実行するか否かの指定。</td>
	<td align="left">Yes：収集時間が短くなる。ただし、Muninサーバの負荷が高くなる。<br>No：収集時間が長くなる。ただし、Muninサーバの負荷は低くなる。</td>
	<td align="left"></td>
	<td align="left">Yes</td>
	<td align="left"></td>
</tr>
<tr>
	<td align="left">max_processes</td>
	<td align="left">測定データを各ノードから収集するプロセスの最大プロセス数。</td>
	<td align="left">測定ノード数に応じて変更する。ただし、応じてMuninサーバの負荷が増減する。尚、並列に処理しない場合は0を指定する。<br>調整目安1：Muninデータ収集時間(全ノード分) &gt; 収集周期<br>調整目安2：MuninサーバのCPU負荷が高い場合</td>
	<td align="left"></td>
	<td align="left">16</td>
	<td align="left">max_processes 8</td>
</tr>
<tr>
	<td align="left">nsca</td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
</tr>
<tr>
	<td align="left">domain_order</td>
	<td align="left">MuninのWebUIに表示されるノードの順番を指定する。<br>標準ではアルファベット順の昇順で表示される。</td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left">domain_order node1 node2 node3</td>
</tr>
<tr>
	<td align="left">max_graph_jobs</td>
	<td align="left">収集したデータからグラフを生成する際に走行する並列プロセス数。<br>munin-graphプロセス数に影響する。</td>
	<td align="left">測定対象のノードが多く、グラフ生成に時間を要する際に数値を増やす。ただし、応じてMuninサーバの負荷が変化する。</td>
	<td align="left"></td>
	<td align="left">6</td>
	<td align="left">max_graph_jobs 6</td>
</tr>
<tr>
	<td align="left">max_cgi_graph_jobs</td>
	<td align="left">収集したデータからグラフを生成する際に走行する並列プロセス数。<br>munin-cgi-graph またはmunin-fastcgi-graph jobs.のプロセス数に影響する。</td>
	<td align="left">max_cgi_graph_jobsと同じ値にすること。</td>
	<td align="left"></td>
	<td align="left">6</td>
	<td align="left">max_cgi_graph_jobs 6</td>
</tr>
<tr>
	<td align="left">local_address</td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
</tr>
<tr>
	<td align="left">contact.contact.command command</td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
</tr>
<tr>
	<td align="left">contact.contact.text text</td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
</tr>
<tr>
	<td align="left">contact.contact.max_messages number</td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
</tr>
<tr>
	<td align="left">contact.contact.always_send [warning] [critical]</td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
</tr>
<tr>
	<td align="left">contacts contact-list</td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
</tr>
<tr>
	<td align="left">[bar;example.com;foo.example.com]</td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
</tr>
<tr>
	<td align="left">[example.com;foo.example.com]</td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
</tr>
<tr>
	<td align="left">[foo.example.com]</td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
</tr>
<tr>
	<td align="left">cgitmpdir</td>
	<td align="left">Muninで利用するPHPを動作させる為のCGIのプロセスファイルが設置されるディレクトリ。</td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left">/var/lib/munin/cgi-tmp</td>
	<td align="left">cgitmpdir /var/lib/munin/cgi-tmp</td>
</tr>
<tr>
	<td align="left">includedir</td>
	<td align="left">設定値を定義したファイル郡を読み込む。</td>
	<td align="left">設定の独立性が高くなり、設定値の再利用等が可能となる。</td>
	<td align="left"></td>
	<td align="left">/etc/munin/munin-conf.d</td>
	<td align="left">includedir /etc/munin/munin-conf.d</td>
</tr>
<tr>
	<td align="left">graph_period</td>
	<td align="left">MuninのWebUI閲覧時に自動で画面がリフレッシュされる周期を指定する。</td>
	<td align="left">second：1秒毎に更新される。(負荷高)<br>minute：1分毎に更新される。(負荷中)<br>hour：1時間毎に更新される。(負荷低)</td>
	<td align="left"></td>
	<td align="left">second</td>
	<td align="left">graph_period second</td>
</tr>
<tr>
	<td align="left">graph_strategy</td>
	<td align="left">グラフの生成方式を指定する。<br>デフォルトではcronモードが指定されており、/etc/cron.d/muninで指定された時間に応じてグラフ生成が成される。</td>
	<td align="left">cron：CRONモードで動作し、規定の周期でHTMLの生成を行う。WebUIを閲覧する利用者が多い場合に有効。Muninサーバに平均的に負荷がかかる。<br>cgi：CGIモードで動作し、WebUIにアクセスした時点でデータファイルから動的にHTMLの生成を行う。WebUIを閲覧する利用者が少ない場合に有効。Muninサーバにアクセスした時点に集中して負荷がかかる。</td>
	<td align="left"></td>
	<td align="left">cron</td>
	<td align="left">graph_strategy cron</td>
</tr>
<tr>
	<td align="left">html_strategy</td>
	<td align="left">グラフの生成方式を指定する。graph_strategyパラメータと基本的に合わせる。</td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left">cron</td>
	<td align="left">html_strategy cron</td>
</tr>
<tr>
	<td align="left">max_size_x</td>
	<td align="left">生成されるグラフのX軸ピクセル数。</td>
	<td align="left">グラフの解像度を変更可能。ただし、応じてグラフ生成時のメモリ使用率が増減する。<br>概算：1グラフ生成あたり、4000px * 4000px = 約1.92MB</td>
	<td align="left"></td>
	<td align="left">4000</td>
	<td align="left">max_size_x 4000</td>
</tr>
<tr>
	<td align="left">max_size_y</td>
	<td align="left">生成されるグラフのY軸ピクセル数。</td>
	<td align="left">グラフの解像度を変更可能。ただし、応じてグラフ生成時のメモリ使用率が増減する。<br>概算：1グラフ生成あたり、4000px * 4000px = 約1.92MB</td>
	<td align="left"></td>
	<td align="left">4000</td>
	<td align="left">max_size_y 4000</td>
</tr>
<tr>
	<td align="left">rrdcached_socket</td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
	<td align="left"></td>
</tr>
</tbody>
</table>
</body>
</html>
